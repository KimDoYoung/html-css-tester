<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Hub</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                            950: '#082f49',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        [x-cloak] {
            display: none !important;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0f172a;
        }

        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }

        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
    <!-- Load Configuration -->
    <script src="url.js"></script>
</head>

<body class="bg-slate-950 text-slate-100 min-h-screen antialiased selection:bg-brand-500 selection:text-white"
    x-data="favoritesApp()">

    <!-- Decorative Background Elements -->
    <div class="fixed inset-0 z-0 overflow-hidden pointer-events-none">
        <div class="absolute top-0 left-1/4 w-96 h-96 bg-brand-500/20 rounded-full blur-[100px] animate-pulse"></div>
        <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-violet-500/10 rounded-full blur-[100px]"></div>
    </div>

    <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <!-- Header -->
        <header class="mb-12 text-center sm:text-left sm:flex sm:items-end sm:justify-between">
            <div>
                <h1
                    class="text-4xl sm:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-brand-300 to-violet-300 tracking-tight mb-2">
                    Developer Hub
                </h1>
                <p class="text-slate-400 text-lg">Quick access to your environments and tools.</p>
            </div>

            <!-- Search / Filter -->
            <div class="mt-6 sm:mt-0 w-full sm:w-72 relative group">
                <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500 group-focus-within:text-brand-400 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </div>
                <input type="text" x-model="search"
                    class="block w-full rounded-xl border border-slate-700 bg-slate-900/50 pl-10 pr-4 py-2.5 text-slate-100 placeholder-slate-500 focus:border-brand-500 focus:ring-1 focus:ring-brand-500 focus:bg-slate-900 transition-all outline-none"
                    placeholder="Filter links...">
            </div>
        </header>

        <!-- Content Grid -->
        <main class="grid gap-8">
            <!-- Loading State -->
            <div x-show="isLoading" class="py-20 text-center animate-pulse">
                <div
                    class="inline-block w-8 h-8 border-4 border-slate-700 border-t-brand-500 rounded-full animate-spin mb-4">
                </div>
                <p class="text-slate-500">Loading your favorites...</p>
            </div>

            <!-- Error State -->
            <div x-show="error" x-cloak class="p-6 bg-red-500/10 border border-red-500/20 rounded-2xl text-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto text-red-500 mb-3" fill="none"
                    viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                </svg>
                <h3 class="text-lg font-medium text-red-400 mb-1">Configuration Error</h3>
                <p class="text-red-200/60 max-w-lg mx-auto" x-text="error"></p>
            </div>

            <template x-if="!isLoading && !error">
                <div class="grid gap-8">
                    <template x-for="group in filteredGroups" :key="group.id">
                        <section class="animate-fade-in-up">
                            <div class="flex items-center gap-3 mb-5">
                                <div class="p-2 rounded-lg bg-slate-800/80 text-brand-400 ring-1 ring-white/10"
                                    x-html="getIcon(group.icon)"></div>
                                <h2 class="text-xl font-semibold text-slate-200" x-text="group.title"></h2>
                            </div>

                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5">
                                <template x-for="item in group.items" :key="item.url">
                                    <a :href="item.url" target="_blank"
                                        class="group relative flex flex-col p-5 h-full glass-panel rounded-2xl hover:bg-slate-800/80 border border-white/5 hover:border-brand-500/30 transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:shadow-brand-500/10">

                                        <div class="flex items-start justify-between mb-4">
                                            <div
                                                class="p-2.5 bg-gradient-to-br from-slate-700 to-slate-800 rounded-xl text-white shadow-inner group-hover:scale-110 transition-transform duration-300 border border-white/5">
                                                <!-- Item Icon or Default -->
                                                <div class="w-6 h-6" x-html="getIcon(item.icon || 'link')"></div>
                                            </div>
                                            <span
                                                class="text-xs font-medium px-2.5 py-1 rounded-full bg-slate-900/50 text-slate-400 border border-white/5 opacity-0 group-hover:opacity-100 transition-opacity">
                                                Open
                                            </span>
                                        </div>

                                        <div>
                                            <h3 class="text-lg font-medium text-slate-100 mb-1 group-hover:text-brand-300 transition-colors"
                                                x-text="item.name"></h3>
                                            <p class="text-sm text-slate-500 line-clamp-2"
                                                x-text="item.description || item.url"></p>
                                        </div>

                                        <div
                                            class="mt-4 pt-4 border-t border-white/5 flex items-center text-xs text-slate-500 sm:opacity-0 group-hover:opacity-100 transition-opacity">
                                            <span class="truncate" x-text="prettyUrl(item.url)"></span>
                                            <svg class="w-3 h-3 ml-auto text-brand-400" fill="none" viewBox="0 0 24 24"
                                                stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                                            </svg>
                                        </div>
                                    </a>
                                </template>
                            </div>
                        </section>
                    </template>
                </div>
            </template>

            <!-- Empty State -->
            <div x-show="filteredGroups.length === 0" x-cloak
                class="py-20 text-center glass-panel rounded-3xl border-dashed">
                <div class="inline-flex items-center justify-center p-4 bg-slate-800 rounded-full text-slate-500 mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </div>
                <h3 class="text-lg font-medium text-slate-300">No matches found</h3>
                <p class="text-slate-500">Try adjusting your search terms.</p>
            </div>
        </main>

        <footer class="mt-20 py-8 border-t border-slate-800/50 text-center text-slate-500 text-sm">
            <p>&copy; <span x-text="new Date().getFullYear()"></span> Favorites Dashboard. Configured via JSON.</p>
        </footer>
    </div>

    <!-- Data & Logic -->
    <script>
        function favoritesApp() {
            return {
                search: '',
                isLoading: true,
                error: null,
                data: {
                    groups: []
                },
                // Icons mapping (Heroicons outline)
                icons: {
                    'computer-desktop': `<svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-3.75a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6.75a3 3 0 0 1 3-3h15a3 3 0 0 1 3 3v6.75Z" /></svg>`,
                    'server': `<svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 17.25v-.375a3 3 0 0 0-3-3h-13.5a3 3 0 0 0-3 3v.375m19.5 0A2.25 2.25 0 0 0 21 15H3a2.25 2.25 0 0 0-2.25 2.25V19.5a2.25 2.25 0 0 0 2.25 2.25h13.5a2.25 2.25 0 0 0 2.25-2.25v-2.25zm0-9v-.375a3 3 0 0 0-3-3h-13.5a3 3 0 0 0-3 3v.375m19.5 0A2.25 2.25 0 0 0 21 6H3a2.25 2.25 0 0 0-2.25 2.25V10.5a2.25 2.25 0 0 0 2.25 2.25h13.5a2.25 2.25 0 0 0 2.25-2.25V8.25z" /></svg>`,
                    'cloud': `<svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.403 4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75z" /></svg>`,
                    'code-bracket': `<svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5" /></svg>`,
                    'link': `<svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" /></svg>`,
                    'beaker': `<svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5" /></svg>`
                },

                init() {
                    // Load data from the global variable defined in url.js
                    if (window.FAVORITES_DATA) {
                        this.data = window.FAVORITES_DATA;
                        this.isLoading = false;
                    } else {
                        // Fallback check - maybe script didn't load
                        this.error = 'Could not load configuration data. Please ensure url.js is in the same directory.';
                        this.isLoading = false;
                    }
                },

                get filteredGroups() {
                    if (this.search === '') return this.data.groups;

                    return this.data.groups.map(group => {
                        const filteredItems = group.items.filter(item =>
                            item.name.toLowerCase().includes(this.search.toLowerCase()) ||
                            item.url.toLowerCase().includes(this.search.toLowerCase()) ||
                            (item.description && item.description.toLowerCase().includes(this.search.toLowerCase()))
                        );
                        return { ...group, items: filteredItems };
                    }).filter(group => group.items.length > 0);
                },

                getIcon(name) {
                    return this.icons[name] || this.icons['link'];
                },

                prettyUrl(url) {
                    try {
                        const u = new URL(url);
                        return u.hostname + (u.port ? ':' + u.port : '');
                    } catch (e) {
                        return url;
                    }
                }
            }
        }
    </script>
</body>

</html>